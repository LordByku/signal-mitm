# Sealed Sender

- Sender-anonimity by including their identity as part of te encryted body of the message.
- Reciever's identity must always be present for delivery purpouses.

- 2 variants:
    - SS v1 - initial release of the system
    - SS v2 -- "improved version" (current doc)

terminology:

uak - unidentified access key


- after initial ratchet (A & B), all future messages are sent using Sealed Sender
    - also, Sealed Sender can be allowed for unknown recippients, if desired (`allowSealedSenderFromAnyone`)
- Sealed Sender also works with groups
   - open question #1: How does that work
 

Sender Certificates - 
 retireve from `/v1/certificate/delivery` (by defualt both aci and pni, there is an optional `?includeE164=false` to only retrieve the certifcate only for your own ACI ( certs are generated by the server based on the public identity\_key)

- certifcate is signed with a key pinned which can then be validated against the trust-root hardcoded in the clients
c.f  "UNIDENTIFIED\_SENDER\_TRUST\_ROOT"

DeliveryToken -
clients derive a 96-bit delivery token from their profile key and register it with the service
used for reporting

to send a message with sealed sender, you must:
1. Encrypt the message using Signal Protocol as usual.
2. Include a sender certificate in the envelope.
3. Encrypt the envelope to the recipient.
4. Without authenticating, hand the encrypted envelope to the service along with the recipientâ€™s delivery token.

